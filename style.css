*{
  margin:0;
  padding:0;
  box-sizing:border-box;
}

/* ========== CAR ========== */
#parkedCar{
  position:fixed;
  bottom:20px;
  left:20px;
  z-index:3;
}
#parkedCar img{
  width:500px;
}

/* ========== BACKGROUND ========== */
body{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Arial, sans-serif;
  overflow:hidden;
  background:
    linear-gradient(rgba(0,0,0,0.50),rgba(0,0,0,0.50)),
    url("items/Gemini_Generated_Image_x9goc2x9goc2x9go.png")
    center/cover no-repeat fixed;
  background-size:110% auto;
  animation:moveBg 12s ease-in-out infinite alternate;
}
@keyframes moveBg{
  0%{ background-position: 50% 50%; }
  100%{ background-position: 54% 50%; }
}

/* ========== SCROLL UFO (wheel control) ========== */
#scrollUfo{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%) scale(1);
  z-index:5000;
  transition:
    bottom 0.15s linear,
    transform 0.15s linear,
    filter 0.15s linear;
  opacity:0;
  pointer-events:none;
  filter: drop-shadow(0 0 20px rgba(168,85,255,1));
}
#scrollUfo img{
  width:200px;
}

/* ========== SCROLL DARK OVERLAY ========== */
#fadeOverlay{
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle at top,
      rgba(88,28,135,0.85),
      rgba(0,0,0,0.97)
    );
  opacity:0;
  pointer-events:none;
  transition:opacity 0.3s ease-out;
  z-index:4;
}

/* ========== PARALLAX BUILDINGS ========== */
#city{
  position:fixed;
  bottom:0;
  left:0;
  height:1200px;
  width:200%;
  z-index:5;
  pointer-events:none;
  opacity:0.6;
  background-repeat:repeat-x;
  background-size:auto 100%;
  background-image: url("items/unnamed-removebg-preview.png");
  animation:cityScrollFront 3s linear infinite;
  filter: brightness(0);
}
@keyframes cityScrollFront{
  from{ transform:translateX(0); }
  to{ transform:translateX(-50%); }
}

#cityBack{
  position:fixed;
  bottom:0;
  left:0;
  height:850px;
  width:200%;
  z-index:2;
  pointer-events:none;
  opacity:0.9;
  background-repeat:repeat-x;
  background-size:auto 100%;
  background-image: url("items/506c790e30599c6e445e862dcaf26d2f-removebg-preview.png");
  animation:cityScrollBack 8s linear infinite;
}
@keyframes cityScrollBack{
  from{ transform:translateX(0); }
  to{ transform:translateX(-50%); }
}

/* ========== HABITS ========== */
.habit-container{
  display:flex;
  gap:30px;
  z-index:5;
  margin-top:-600px;
  flex-wrap:wrap;
  justify-content:center;
  transition:transform 0.6s ease, opacity 0.6s ease;

  /* hidden on first page until UFO reaches top */
  opacity:0;
  pointer-events:none;
  transform:translateY(40px);
}

.habit-card{
  width:250px;
  height:330px;
  border-radius:25px;
  background:rgba(3,12,20,0.8);
  border:1px solid rgba(255,255,255,0.15);
  overflow:hidden;
  cursor:pointer;
  transition:0.25s;
  text-align:center;
  backdrop-filter:blur(14px);
  box-shadow:0 10px 30px rgba(0,0,0,0.55);
  position:relative;
  z-index:1;
}
.habit-card img{
  width:100%;
  height:250px;
  object-fit:cover;
}
.habit-card h2{
  color:#f7f7f7;
  padding:10px;
  font-size:22px !important;
  font-family:'Luckiest Guy', cursive !important;
}
.habit-card:hover{
  transform:translateY(-6px) scale(1.03);
}

/* done: strong neon glow */
.habit-card.done{
  border:2px solid #a855ff;
  box-shadow:
    0 0 25px rgba(168,85,255,1),
    0 0 55px rgba(168,85,255,0.9),
    0 0 90px rgba(168,85,255,0.75);
}
.habit-card::before{
  content:"";
  position:absolute;
  inset:-14px;
  border-radius:inherit;
  background:
    radial-gradient(circle at 50% 20%,
      rgba(244,114,255,0.55),
      rgba(168,85,255,0.45),
      rgba(88,28,135,0.0) 70%);
  opacity:0;
  transform:scale(0.9);
  filter:blur(10px);
  transition:opacity 0.3s ease, transform 0.3s ease;
  z-index:-1;
}
.habit-card.done::before{
  opacity:1;
  transform:scale(1);
}

/* when in topTasks mode, cards float in middle */
body.topTasks .habit-container{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%, -50%);
  margin-top:0;
  z-index:9000;
  opacity:1;
  pointer-events:auto;
}
body.topTasks .habit-card{
  background:transparent;
  border:none;
  box-shadow:none;
}
body.topTasks .habit-card.done{
  background:rgba(15,5,35,0.8);
}

/* when in data mode, tasks slide away left */
body.topData .habit-container{
  position:fixed;
  top:50%;
  left:0%;
  transform:translate(-120%, -50%);
  opacity:0;
  pointer-events:none;
}

/* ========== SPLASH ========== */
#splash{
  display:none !important;
}

/* ========== UFO (random roaming) ========== */
#ufo{
  position:fixed;
  top:120px;
  left:50px;
  z-index:1000;
  cursor:pointer;
  transition: top 3s linear, left 3s linear;
}
#ufo img{
  width:200px;
  height:auto;
  image-rendering:pixelated;
}

/* ========== CLOUD POPUP ========== */
.ufo-cloud{
  position:fixed;
  padding:20px 25px;
  border:4px solid #542987;
  background:#181020;
  display:none;
  z-index:10001;
  font-size:14px;
  font-family:'Press Start 2P', monospace;
  color:#e7d6ff;
  box-shadow:0 0 20px rgba(164,89,255,0.7);
  text-align:center;
  width:300px;
}
.ufo-image{
  position:fixed;
  display:none;
  /* put image ABOVE the dark popup overlay */
  z-index:130000;
  border:4px solid #542987;
  background:#100818;
  padding:8px;
  box-shadow:0 0 30px rgba(164,89,255,0.8);
}

.ufo-image img{
  width:360px;
  max-width:80vw;
  height:auto;
}



/* ========== EYES ========== */
.eyes{
  position:fixed;
  bottom:18px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:18px;
  z-index:10;
}
.eye{
  width:42px;
  height:42px;
  background:#fdfdfd;
  border-radius:50%;
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
}
.pupil{
  width:18px;
  height:18px;
  background:#111;
  border-radius:50%;
  position:absolute;
}

/* ========== ACHIEVEMENT OVERLAY ========== */
.achievement{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.6);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999999;
  visibility:hidden;
  opacity:0;
  transition:0.5s;
}
.ach-box{
  background:#1a0b23;
  border:3px solid #a855ff;
  padding:30px 40px;
  font-size:38px;
  font-family:'Luckiest Guy', cursive;
  color:#e9d6ff;
  text-shadow:0 0 15px #a855ff;
  border-radius:20px;
}

/* badge under each card */
#achieveBadge{
  width:80px;
  filter: drop-shadow(0 0 18px rgba(255,215,0,0.9));
  transition:opacity 0.4s ease, transform 0.4s ease;
  opacity:0;
}

/* SWIPE TEXT */
.swipeText{
  position:fixed;
  bottom:110px;
  left:50%;
  transform:translateX(-50%);
  font-family:'Press Start 2P', monospace;
  font-size:20px;
  color:#ffffff;
  opacity:0.8;
  animation:swipeGlow 2s infinite ease-in-out;
  z-index:20;
  text-shadow:0 0 8px rgba(150,80,255,0.8);
}
@keyframes swipeGlow{
  0%{ opacity:0.4; transform:translateX(-50%) translateY(0);}
  50%{ opacity:1; transform:translateX(-50%) translateY(-4px);}
  100%{ opacity:0.4; transform:translateX(-50%) translateY(0);}
}

/* ========== TITLES ========== */
.mainTitle{
  position:fixed;
  top:60px;
  left:50%;
  transform:translateX(-50%);
  font-family:'Press Start 2P', monospace;
  font-size:130px;
  color:#fff;
  z-index:10;
  letter-spacing:4px;
  text-transform:uppercase;
  line-height:0.8;
  height:120px;
  pointer-events:none;
}

/* glitch layers */
.mainTitle::before,
.mainTitle::after{
  content:"TRACKER";
  position:absolute;
  top:0;
  left:0;
  width:100%;
  color:#fff;
  background:transparent;
  overflow:hidden;
}
.mainTitle::before{
  left:2px;
  text-shadow:-2px 0 #ff00c8;
  animation:glitch1 2s infinite linear alternate-reverse;
}
.mainTitle::after{
  left:-2px;
  text-shadow:2px 0 #00e5ff;
  animation:glitch2 2s infinite linear alternate-reverse;
}
@keyframes glitch1{
  0%{clip-path:inset(0 0 85% 0);}
  20%{clip-path:inset(15% 0 40% 0);}
  40%{clip-path:inset(60% 0 5% 0);}
  60%{clip-path:inset(20% 0 60% 0);}
  80%{clip-path:inset(5% 0 70% 0);}
  100%{clip-path:inset(30% 0 35% 0);}
}
@keyframes glitch2{
  0%{clip-path:inset(30% 0 35% 0);}
  20%{clip-path:inset(5% 0 70% 0);}
  40%{clip-path:inset(20% 0 60% 0);}
  60%{clip-path:inset(60% 0 5% 0);}
  80%{clip-path:inset(15% 0 40% 0);}
  100%{clip-path:inset(0 0 85% 0);}
}

.subTitle{
  position:fixed;
  top:200px;
  left:50%;
  transform:translateX(-50%);
  font-family:'Luckiest Guy', cursive;
  font-size:70px;
  color:#e9d6ff;
  text-shadow:0 0 10px rgba(168,85,255,0.7);
  z-index:10;
}

/* ========== EXERCISES BUTTON (unused) ========== */
.exercise-btn{
  position:fixed;
  bottom:140px;
  left:50%;
  padding:14px 34px;
  border-radius:999px;
  border:2px solid #a855ff;
  background:rgba(10,5,25,0.95);
  color:#fdfdfd;
  font-family:'Press Start 2P', monospace;
  font-size:14px;
  letter-spacing:1px;
  text-transform:uppercase;
  cursor:pointer;
  box-shadow:0 0 18px rgba(168,85,255,0.95);
  opacity:0;
  pointer-events:none;
  transform:translate(-50%, 10px) scale(1.1);
  transition:opacity 0.4s, transform 0.4s, bottom 0.3s;
  z-index:30;
}
.exercise-btn.show{
  opacity:1;
  pointer-events:auto;
  transform:translate(-50%, 0) scale(1.1);
}

/* ========== EXERCISE PANEL (unused) ========== */
.exercise-panel{
  position:fixed;
  bottom:60%;
  left:50%;
  width:380px;
  max-height:300px;
  background:rgba(10,5,26,0.96);
  border-radius:20px;
  border:2px solid rgba(168,85,255,0.9);
  box-shadow:0 0 25px rgba(168,85,255,0.9);
  padding:16px 18px;
  z-index:29;
  transform:translate(-50%, 10px) scale(0.9);
  opacity:0;
  pointer-events:none;
  transition:opacity 0.35s ease, transform 0.35s ease;
  overflow:hidden;
}
.exercise-panel.open{
  opacity:1;
  pointer-events:auto;
  transform:translate(-50%, 0) scale(1);
}
.exercise-panel h3{
  margin-bottom:8px;
  font-family:'Luckiest Guy', cursive;
  font-size:20px;
  color:#f9e6ff;
  text-shadow:0 0 10px rgba(168,85,255,0.9);
}
.exercise-grid{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  overflow-y:auto;
  padding-right:4px;
}
.exercise-grid img{
  width:110px;
  height:110px;
  object-fit:cover;
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.25);
  box-shadow:0 0 12px rgba(168,85,255,0.75);
}

/* ========== DATA PANEL (habit data tracker) ========== */
.data-panel{
  position:fixed;
  top:12%;
  left:50%;
  width:420px;
  max-width:90vw;
  padding:20px 22px;
  background:radial-gradient(circle at top, rgba(88,28,135,0.95), rgba(10,5,20,0.98));
  border-radius:24px;
  border:2px solid rgba(168,85,255,0.9);
  box-shadow:0 0 30px rgba(168,85,255,0.9), 0 0 80px rgba(0,0,0,0.9);
  opacity:0;
  pointer-events:none;
  transform:translate(90%, -10px) scale(1.8);
  transform-origin:center top;
  transition:opacity 0.45s ease, transform 0.45s ease;
  z-index:9999;
  max-height:80vh;
  overflow-y:auto;
}
.data-panel.show{
  opacity:1;
  pointer-events:auto;
  transform:translate(-50%, 0) scale(1.8);
}

.data-panel h3{
  text-align:center;
  font-family:'Press Start 2P', monospace;
  font-size:18px;
  letter-spacing:2px;
  color:#ffffff;
  text-shadow:0 0 10px rgba(168,85,255,1);
  margin-bottom:10px;
}

.data-panel .data-count{
  text-align:center;
  font-family:'Luckiest Guy', cursive;
  font-size:34px;
  color:#e9d6ff;
  text-shadow:0 0 14px rgba(168,85,255,1);
  margin-bottom:16px;
}

.data-panel .data-list{
  list-style:none;
  padding:0;
  margin:0;
  font-family:'Press Start 2P', monospace;
  font-size:14px;
  color:#e5def8;
  display:flex;
  flex-direction:column;
  gap:8px;
}

.data-panel .data-list li{
  display:flex;
  justify-content:space-between;
  border-bottom:1px solid rgba(255,255,255,0.12);
  padding-bottom:4px;
}

.data-panel .data-list li span.label{
  opacity:0.8;
}
.data-panel .data-list li span.value{
  color:#a855ff;
}

/* ========== 21-DAY TRACKER GRID ========== */
.tracker21{
  margin-top:12px;
  padding-top:10px;
  border-top:1px dashed rgba(255,255,255,0.24);
}
.tracker21-header{
  font-family:'Press Start 2P', monospace;
  font-size:11px;
  letter-spacing:2px;
  text-align:left;
  color:#bca7ff;
  text-shadow:0 0 8px rgba(168,85,255,0.8);
  opacity:0.9;
}
.tracker21-grid{
  margin-top:8px;
  display:grid;
  grid-template-columns:repeat(7, 1fr);
  gap:6px;
}
.tracker-day{
  position:relative;
  padding:6px 4px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.18);
  background:linear-gradient(135deg, rgba(8,4,20,0.95), rgba(41,14,77,0.9));
  box-shadow:0 0 10px rgba(0,0,0,0.8);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-family:'Press Start 2P', monospace;
  font-size:9px;
  text-transform:uppercase;
}
.tracker-day .day-index{
  color:#f5edff;
  opacity:0.9;
}
.tracker-day .day-status{
  margin-top:2px;
}
.tracker-day.empty .day-status{
  color:rgba(229,231,235,0.5);
}
.tracker-day.partial{
  border-color:rgba(168,85,255,0.9);
  box-shadow:0 0 14px rgba(168,85,255,0.85);
}
.tracker-day.partial .day-status{
  color:#fbbf24;
}
.tracker-day.full{
  border-color:#22c55e;
  box-shadow:0 0 16px rgba(34,197,94,0.9);
}
.tracker-day.full .day-status{
  color:#4ade80;
}

/* ========== CHATGPT + NOTE POPUPS ========== */
.chatgpt-popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.70);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:120000;
}
.chatgpt-popup.show{
  display:flex;
}
.chatgpt-popup-inner{
  background:radial-gradient(circle at top,
    rgba(88,28,135,0.98),
    rgba(10,5,20,1));
  border-radius:20px;
  border:2px solid #a855ff;
  box-shadow:0 0 30px rgba(168,85,255,0.9);
  padding:18px 24px;
  min-width:260px;
  max-width:320px;
  text-align:center;
  font-family:'Press Start 2P', monospace;
  color:#f5e9ff;
  font-size:12px;
}
.chatgpt-popup-buttons{
  margin-top:14px;
  display:flex;
  gap:10px;
  justify-content:center;
}
.chatgpt-popup-buttons button{
  padding:8px 16px;
  border-radius:999px;
  border:1px solid #a855ff;
  background:rgba(15,6,35,0.95);
  color:#fdfdfd;
  font-family:'Press Start 2P', monospace;
  font-size:10px;
  cursor:pointer;
  text-transform:uppercase;
  box-shadow:0 0 12px rgba(168,85,255,0.8);
  transition:transform 0.15s ease, box-shadow 0.15s ease;
}
.chatgpt-popup-buttons button:hover{
  transform:translateY(-2px);
  box-shadow:0 0 18px rgba(244,114,255,0.95);
}

/* ========== ADD TASK BUTTON (inside data panel only) ========== */
.add-task-btn{
  margin-top:20px;
  width:100%;
  padding:12px;
  border-radius:12px;
  border:2px solid #a855ff;
  background:#150825;
  color:white;
  font-family:'Luckiest Guy', cursive;
  font-size:20px;
  cursor:pointer;
  box-shadow:0 0 12px rgba(168,85,255,0.8);
}

/* ========== RESPONSIVE LAYOUT ========== */

/* Tablets / small laptops */
@media (max-width: 900px){

  body{
    align-items:flex-start;
  }

  .mainTitle{
    font-size:90px;
    top:40px;
  }

  .subTitle{
    top:150px;
    font-size:48px;
  }

  .habit-container{
    margin-top:220px;
    gap:18px;
    flex-wrap:wrap;
    justify-content:center;
    padding:0 16px;
  }

  .habit-card{
    width:190px;
    height:260px;
  }

  .habit-card img{
    height:170px;
  }

  .swipeText{
    bottom:80px;
    font-size:16px;
  }

  #parkedCar img{
    width:340px;
  }

  .data-panel,
  .data-panel.show{
    transform:translate(-50%, 0) scale(1.4);
  }
}

/* Phones */
@media(max-width:600px){
  .habit-card{
    width:120px;
    height:160px;
  }

  #ufo, #scrollUfo {
    width:120px;
    height:80px;
  }

  .chatgpt-popup-inner{
    width:90%;
    font-size:16px;
  }
}

@media (max-width: 600px){

  body{
    align-items:flex-start;
  }

  .mainTitle{
    font-size:64px;
    top:28px;
  }

  .subTitle{
    top:115px;
    font-size:32px;
  }

  .habit-container{
    margin-top:190px;
    flex-wrap:wrap;
    justify-content:center;
    gap:14px;
    padding:0 10px;
  }

  .habit-card{
    width:150px;
    height:220px;
  }

  .habit-card img{
    height:150px;
  }

  .swipeText{
    bottom:65px;
    font-size:14px;
  }

  #parkedCar img{
    width:260px;
  }

  .data-panel,
  .data-panel.show{
    width:92vw;
    transform:translate(-50%, 0) scale(1);
  }
}
